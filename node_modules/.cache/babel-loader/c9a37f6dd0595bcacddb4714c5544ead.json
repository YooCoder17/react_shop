{"ast":null,"code":"const cart = [];\n\nconst handleCart = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : cart;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      // check if product already exist\n      const productExist = state.find(x => x.id === action.payload.id);\n\n      if (productExist) {\n        return state.map(x => x.id === action.payload.id ? { ...x,\n          quantity: x.quantity + 1\n        } : x);\n      } else {\n        const product = action.payload;\n        return [...state, { ...product,\n          quantity: 1\n        }];\n      }\n\n      break;\n\n    case 'REMOVE_FROM_CART':\n      const exist1 = state.find(x => x.id === action.payload.id);\n\n      if (exist1.quantity === 1) {\n        return state.filter(x => x.id !== exist1.id);\n      } else {\n        return state.map(x => x.id === action.payload.id ? { ...x,\n          quantity: x.quantity - 1\n        } : x);\n      }\n\n      break;\n\n    default:\n      break;\n  }\n};\n\nexport default handleCart;","map":{"version":3,"names":["cart","handleCart","state","action","type","productExist","find","x","id","payload","map","quantity","product","exist1","filter"],"sources":["/home/super/Documents/fakeshop/src/redux/reducers/handleCart.js"],"sourcesContent":["const cart = [];\n\nconst handleCart = (state = cart, action) => {\n    switch (action.type) {\n        case 'ADD_TO_CART':\n            // check if product already exist\n            const productExist = state.find(x => x.id === action.payload.id);\n            if (productExist) {\n                return state.map(x => x.id === action.payload.id ? { ...x, quantity: x.quantity + 1 } : x);\n            } else {\n                const product = action.payload;\n                return [\n                    ...state,\n                    {\n                        ...product,\n                        quantity: 1\n                    }\n                ]\n            }\n            break;\n\n        case 'REMOVE_FROM_CART':\n            const exist1 = state.find(x => x.id === action.payload.id);\n            if (exist1.quantity === 1) {\n                return state.filter(x => x.id !== exist1.id);\n            } else {\n                return state.map(x => x.id === action.payload.id ? { ...x, quantity: x.quantity - 1 } : x);\n            }\n            break;\n\n        default:\n            break;\n    }\n}\n\nexport default handleCart;"],"mappings":"AAAA,MAAMA,IAAI,GAAG,EAAb;;AAEA,MAAMC,UAAU,GAAG,YAA0B;EAAA,IAAzBC,KAAyB,uEAAjBF,IAAiB;EAAA,IAAXG,MAAW;;EACzC,QAAQA,MAAM,CAACC,IAAf;IACI,KAAK,aAAL;MACI;MACA,MAAMC,YAAY,GAAGH,KAAK,CAACI,IAAN,CAAWC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAxC,CAArB;;MACA,IAAIH,YAAJ,EAAkB;QACd,OAAOH,KAAK,CAACQ,GAAN,CAAUH,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAxB,GAA6B,EAAE,GAAGD,CAAL;UAAQI,QAAQ,EAAEJ,CAAC,CAACI,QAAF,GAAa;QAA/B,CAA7B,GAAkEJ,CAAjF,CAAP;MACH,CAFD,MAEO;QACH,MAAMK,OAAO,GAAGT,MAAM,CAACM,OAAvB;QACA,OAAO,CACH,GAAGP,KADA,EAEH,EACI,GAAGU,OADP;UAEID,QAAQ,EAAE;QAFd,CAFG,CAAP;MAOH;;MACD;;IAEJ,KAAK,kBAAL;MACI,MAAME,MAAM,GAAGX,KAAK,CAACI,IAAN,CAAWC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAxC,CAAf;;MACA,IAAIK,MAAM,CAACF,QAAP,KAAoB,CAAxB,EAA2B;QACvB,OAAOT,KAAK,CAACY,MAAN,CAAaP,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASK,MAAM,CAACL,EAAlC,CAAP;MACH,CAFD,MAEO;QACH,OAAON,KAAK,CAACQ,GAAN,CAAUH,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,MAAM,CAACM,OAAP,CAAeD,EAAxB,GAA6B,EAAE,GAAGD,CAAL;UAAQI,QAAQ,EAAEJ,CAAC,CAACI,QAAF,GAAa;QAA/B,CAA7B,GAAkEJ,CAAjF,CAAP;MACH;;MACD;;IAEJ;MACI;EA5BR;AA8BH,CA/BD;;AAiCA,eAAeN,UAAf"},"metadata":{},"sourceType":"module"}